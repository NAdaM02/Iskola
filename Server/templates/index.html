<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>OneNote to PDF Converter</title>
</head>
<body>
    <h1>Convert OneNote Files to PDF</h1>
    <form action="/download" method="post">
        <label for="subject">Select Subject:</label>
        <select name="subject" id="subject">
            {% for subject in subjects %}
                <option value="{{ subject }}">{{ subject }}</option>
            {% endfor %}
        </select>
        <br><br>
        <label for="mode">Select Mode:</label>
        <select name="mode" id="mode" onchange="toggleOptions()">
            <option value="full">Whole Notebook</option>
            <option value="last_x">Last X Pages</option>
            <option value="by_date">By Date</option>
        </select>
        <br><br>
        <div id="count_option" style="display:none;">
            <label for="count">Enter number of pages:</label>
            <input type="number" name="count" id="count" min="1" value="5">
        </div>
        <div id="date_option" style="display:none;">
            <label for="date">Enter date (YYYY-MM-DD):</label>
            <input type="date" name="date" id="date">
        </div>
        <br>
        <button type="submit">Convert to PDF</button>
    </form>
    <script>
        function toggleOptions() {
            var mode = document.getElementById("mode").value;
            document.getElementById("count_option").style.display = (mode == "last_x") ? "block" : "none";
            document.getElementById("date_option").style.display = (mode == "by_date") ? "block" : "none";
        }
    </script>
</body>
</html>
